<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:stella="http://stella.caelum.com.br/faces2">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <title>ControlPass</title>
    </h:head>
    <h:body>    

        <style>
            body{
                background-color:#DDA0DD;
                font-family: Lucida Calligraphy;
            }
            h1{
                text-align: center;
            }
            .coluna1 {
                text-align: right !important;
            }

            .coluna2 {
                text-align: left !important;
            }

            .coluna20 {
                text-align: right !important;
                width: 20%;
            }

            .coluna80 {
                text-align: left !important;
                width: 80%;
            }

            .negrito {
                font-weight: bold;
            }
        </style>
        <h1>ControlPass V1.0</h1>        
        <p:fieldset>
            <p:growl id="msgs" showDetail="true" life="7000" sticky="true" />

            <h:form id="form">

                <h:panelGrid columns="4" columnClasses="coluna1, coluna2"
                             cellpadding="2" cellspacing="2" width="100%">

                    <h:outputText value="CPF:" />
                    <p:inputMask value="#{usuarioMB.usuario.cpf}" mask="999.999.999-99"
                                 style="width:140px;" label="CPF" required="true"
                                 converter="cpfConverter" validator="StellaCPFValidator" id="txtCpf" />
                    
                    <h:outputText value="RM do Aluno:" />
                    <p:inputText value="#{usuarioMB.usuario.rm}" style="width:140px;" label="RM" required="true" id="txtRm" />

                    <h:outputText value="Nome:" />
                    <p:inputText value="#{usuarioMB.usuario.nome}" style="width:400px;"
                                 maxlength="50" label="Nome" required="true" id="txtNome" />



                    <h:outputText value="E-Mail:" />
                    <p:inputText value="#{usuarioMB.usuario.email}" style="width:250px;"
                                 maxlength="50" label="E-Mail" validatorMessage=" e-mail invalido" id="txtEmail">
                        <f:validateRegex
                            pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]">
                                
                        </f:validateRegex>

                    </p:inputText>
                    <h:outputText value="UF:" />
                    <h:outputText value="SP" styleClass="negrito" />
                    

                    <h:outputText value="Unidade" />
                    <p:selectOneMenu>
                        <f:selectItem itemLabel="064"  />
                    </p:selectOneMenu>
                    <p:outputLabel value="Login" />
                    <p:inputText id="txtLogin" value="#{usuarioMB.usuario.login}"/>
                </h:panelGrid>
                <h:panelGrid columns="3">
                    <p:commandButton action="#{usuarioMB.cadastro()}"
                                     value="Cadastrar" update=":msgs form" />

                    <p:commandButton value="Limpar" type="reset" ajax="true"
                                     immediate="true" />

                    <p:button value="Voltar" outcome="index"/>
                </h:panelGrid>
                <h:outputText value="#{usuarioMB.usuario.setTipoUsuario('2')}"/>
                <h:outputText value="#{usuarioMB.usuario.setStatus('1')}"/>
                <h:outputText value="#{usuarioMB.usuario.setSenha('controlpass')}"/>
                <p:ajaxStatus onstart="PF('dgLoader').show()" onsuccess="PF('dgLoader').hide()" />
                <p:dialog widgetVar="dgLoader" modal="true" resizable="false" showHeader="false">

                     <p:graphicImage name="spin.gif" library="images" />
                </p:dialog>
            </h:form>
        </p:fieldset>
    </h:body>
</html>